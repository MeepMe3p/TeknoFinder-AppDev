<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>TeknoFinder - Confessions</title>
	<link rel="stylesheet" href="../css/main-confessions.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	<link href="https://fonts.googleapis.com/css2?family=Anybody&display=swap" rel="stylesheet">
	
</head>

<body>
	<!-- Header Section -->
	<header>
		<div class="navbar">
			<div>
				<img src="../img/teknofinder-word.png" height="40px"/>
			</div>

			<nav>
				<ul>
					<li><a href="../templates/main-home.html" class="hoverable">Home</a></li>
					<li><a href="../templates/main-teknomap.html" class="hoverable">TeknoMap</a></li>
					<li><a href="../templates/main-confessions.html" class="current-page">Confessions</a></li>
					<li><a href="../templates/main-aboutus.html" class="hoverable">About Us</a></li>
					<li><a href="../templates/main-contactus.html" class="hoverable">Contact Us</a></li>
				</ul>
			</nav>

			<div class="profile">
				<input type="checkbox" id="profile-menu-toggle" hidden>
				<label for="profile-menu-toggle" class="profile-label">
					<div class="profile-img">
						<img src="../img/user-profile.jpg" alt="Profile">
					</div>
					<div class="profile-info">
						<h3>fname + lname</h3>
						<span>stud_num/email</span>
					</div>
				</label>

				<div class="profile-menu">
					<a href="../../profile-page/templates/profile-personal.html"><i class="fa fa-user"></i> View Profile</a>
					<a href=""><i class="fa fa-cog"></i> Settings</a>
					<a href="" class="log-out"><i class="fa fa-sign-out-alt"></i> Logout</a>
				</div>
			</div>
		</div>
	</header>

	<section class="confession-section">
		<div class="confession-header">
            <input type="text" class="search-bar" placeholder="Search Confessions...">
            <button class="filter-btn">Search</button>
        </div>

        <div class="recent-posts-container">
			<div class="con-subhead">
            	<h2>Recent Confessions</h2>
			</div>
            <div class="recent-posts-slider">
                <button class="slider-btn left-btn"><i class="fas fa-chevron-left"></i></button>
                <div class="recent-posts">
                    <div class="post-item">
						<div class="profilepic-container">
							<img src=".jpg" >
						</div>
						<!--template sa recent confessions-->
						<div class="post-details">
							<div class="detail-head">
								<p class="post-text" style="letter-spacing: 1px;"><strong>{firstname + lastname}</strong></p>
								<span>({username})</span>
							</div>
							<hr>
                        	<p class="post-text">{confession content}</p>
							<div class="datelocation">
                        		<span class="post-info">{Building #, Floor #, Room #}</span>
								<span class="post-info">{date | time}</span>
							</div>
						</div>
                    </div>

					<!--sample confessions-->
					<div class="post-item">
						<div class="profilepic-container">
							<img src=".jpg" >
						</div>
						
						<div class="post-details">
							<div class="detail-head">
								<p class="post-text" style="letter-spacing: 1px;"><strong>John Doe</strong></p>
								<span>(@johndoe)</span>
							</div>
							<hr>
                        	<p class="post-text">Had the weirdest encounter at the cafeteria.</p>
							<div class="datelocation">
                        		<span class="post-info">Building B, Floor 3</span>
								<span class="post-info">12-12-2024 | 04:20</span>
							</div>
						</div>
                    </div>
                </div>
                <button class="slider-btn right-btn"><i class="fas fa-chevron-right"></i></button>
            </div>
        </div>

        <div class="my-confessions-container">
			<div class="con-subhead">
    	        <h2>My Confessions</h2>
            </div>
			
			<div class="recent-posts-slider">
                <button class="slider-btn left-btn"><i class="fas fa-chevron-left"></i></button>
                <div class="recent-posts">
					<!--template sa my confessions-->
                    <div class="post-item">
						<div class="profilepic-container">
							<img src=".jpg" >
						</div>
						<!--template sa recent confessions-->
						<div class="post-details">
							<div class="detail-head">
								<p class="post-text" style="letter-spacing: 1px;"><strong>{firstname + lastname}</strong></p>
								<span>({username})</span>
								<i class="fa fa-trash" id="delete-icon"></i>
							</div>
							<hr>
                        	<p class="post-text">{confession content}</p>
							<div class="datelocation">
                        		<span class="post-info">{Building #, Floor #, Room #}</span>
								<span class="post-info">{date | time}</span>
							</div>
						</div>
                    </div>

                    <!--sample confessions-->
					<div class="post-item">
						<div class="profilepic-container">
							<img src=".jpg" >
						</div>
						
						<div class="post-details">
							<div class="detail-head">
								<p class="post-text" style="letter-spacing: 1px;"><strong>John Doe</strong></p>
								<span>(@johndoe)</span>
								<i class="fa fa-trash" id="delete-icon"></i>
							</div>
							<hr>
                        	<p class="post-text">Had the weirdest encounter at the cafeteria.</p>
							<div class="datelocation">
                        		<span class="post-info">Building B, Floor 3</span>
								<span class="post-info">12-12-2024 | 04:20</span>
							</div>
						</div>
                    </div>

					<div class="post-item">
						<div class="profilepic-container">
							<img src=".jpg" >
						</div>
						
						<div class="post-details">
							<div class="detail-head">
								<p class="post-text" style="letter-spacing: 1px;"><strong>John Doe</strong></p>
								<span>(@johndoe)</span>
								<i class="fa fa-trash" id="delete-icon"></i>
							</div>
							<hr>
                        	<p class="post-text">Had the weirdest encounter at the cafeteria.</p>
							<div class="datelocation">
                        		<span class="post-info">Building B, Floor 3</span>
								<span class="post-info">12-12-2024 | 04:20</span>
							</div>
						</div>
                    </div>
                </div>
                <button class="slider-btn right-btn"><i class="fas fa-chevron-right"></i></button>
            </div>
        </div>

        <div class="filters">
			<div>
				<h3>Filter by Location</h3>
				<select class="building-filter">
					<option value="all">Select Building</option>
					<option value="A">NGE Building</option>
					<option value="B">RTL Building</option>
					<option value="C">GLE Building</option>
				</select>
				<select class="floor-filter">
					<option value="all">Select Floor</option>
				</select>
				<select class="room-filter">
					<option value="all">Select Room</option>
				</select>

				<button class="add-confessions-btn" id="openAddConfessionModal">Add Confessions</button>
			</div>
        </div>

		<div id="addConfessionModal" class="modal">
			<div class="modal-content">
				<span class="close-btn" id="closeModal">&times;</span>
				<h2 style="margin: 0; text-align: center; margin-bottom: 30px;">Add Your Confession</h2>
				<form id="addConfessionForm">
					<textarea id="confessionText" placeholder="Write your confession..." rows="4" required></textarea>
					<button type="submit" class="submit-btn">Submit Confession</button>
				</form>
			</div>
		</div>

		<div class="confession-results">
			<div class="post-results">
				<div class="post-item">
					<div class="profilepic-container">
						<img src=".jpg" >
					</div>
					<!--template sa results confessions-->
					<div class="post-details">
						<div class="detail-head">
							<p class="post-text" style="letter-spacing: 1px;"><strong>{firstname + lastname}</strong></p>
							<span>({username})</span>
						</div>
						<hr>
						<p class="post-text">{confession content}</p>
						<div class="datelocation">
							<span class="post-info">{Building #, Floor #, Room #}</span>
							<span class="post-info">{date | time}</span>
						</div>
					</div>
				</div>
			</div>
		</div>
    </section>
	
	<!-- Footer Section -->
	<footer>
		<div class="footer-left-container">
			<div class="flc-left-content">
				<img src="../img/teknofinder-word-other.png" height="50px"/> <br/>
				<button id="scrollToTopBtn">
				  <i class="fa fa-chevron-up"></i> TOP
				</button>
				<p>Â© 2024 TeknoFinder. All rights reserved.</p>
			</div>
				
			<div class="flc-right-content">
				<h3>Product</h3>
				<ul>
					<li><a href="../templates/main-home.html">Overview</a></li>
					<li><a href="#citu360" id="citu360Link">CIT-U 360</a></li>
					<li><a href="../templates/main-teknomap.html">TeknoMap</a></li>
					<li><a href="../templates/main-confessions.html">Confessions</a></li>
				</ul>
			</div>
			  
			<div class="flc-right-content">
				<h3>Company</h3>
				<ul>
					<li><a href="../templates/main-aboutus.html">About Us</a></li>
					<li><a href="../templates/main-contactus.html">Contact Us</a></li>
				</ul>
			</div>			
		</div>
		
		<div class="footer-right-container"></div>
	</footer>
	
	<script src="../js/main-page.js" defer></script>
	<script>
        const sliders = document.querySelectorAll('.recent-posts-slider');

        sliders.forEach(slider => {
            const leftBtn = slider.querySelector('.left-btn');
            const rightBtn = slider.querySelector('.right-btn');
            const posts = slider.querySelector('.recent-posts');

            let scrollAmount = 0;
            const scrollStep = 300;

            rightBtn.addEventListener('click', () => {
                posts.scrollLeft += scrollStep;
            });

            leftBtn.addEventListener('click', () => {
                posts.scrollLeft -= scrollStep;
            });
        });
		
		const modal = document.getElementById("addConfessionModal");
		const openModalBtn = document.getElementById("openAddConfessionModal");
		const closeModalBtn = document.getElementById("closeModal");

		openModalBtn.onclick = function () {
			modal.style.display = "block";
		}

		closeModalBtn.onclick = function () {
			modal.style.display = "none";
		}

		window.onclick = function (event) {
			if (event.target === modal) {
				modal.style.display = "none";
			}
		}

		document.getElementById('addConfessionForm').addEventListener('submit', function (event) {
			event.preventDefault(); 
			const confessionText = document.getElementById("confessionText").value;
			if (confessionText) {
				alert('Confession added: ' + confessionText);
				modal.style.display = "none";
			}
		});

		const buildingFilter = document.querySelector('.building-filter');
		const floorFilter = document.querySelector('.floor-filter');
		const roomFilter = document.querySelector('.room-filter');

		const roomOptions = {
			A: {
				1: ['101', '102', '103', '104', '105'],
				2: ['201', '202', '203', '204', '205'],
				3: ['301', '302', '303', '304', '305'],
				4: ['401', '402', '403', '404', '405']
			},
			B: {
				1: ['101', '102', '103', '104', '105'],
				2: ['201', '202', '203', '204', '205'],
				3: ['301', '302', '303', '304', '305'],
				4: ['401', '402', '403', '404', '405']
			},
			C: {
				1: ['101', '102', '103', '104', '105'],
				2: ['201', '202', '203', '204', '205'],
				3: ['301', '302', '303', '304', '305'],
				4: ['401', '402', '403', '404', '405']
			}
		};

		buildingFilter.addEventListener('change', () => {
			const selectedBuilding = buildingFilter.value;

			floorFilter.innerHTML = '<option value="all">Select Floor</option>';
			roomFilter.innerHTML = '<option value="all">Select Room</option>';

			if (roomOptions[selectedBuilding]) {
				const floors = Object.keys(roomOptions[selectedBuilding]);
				floors.forEach(floor => {
					const option = document.createElement('option');
					option.value = floor;
					option.textContent = `Floor ${floor}`;
					floorFilter.appendChild(option);
				});
			}
		});

		floorFilter.addEventListener('change', () => {
			const selectedBuilding = buildingFilter.value;
			const selectedFloor = floorFilter.value;

			roomFilter.innerHTML = '<option value="all">Select Room</option>';

			if (roomOptions[selectedBuilding] && roomOptions[selectedBuilding][selectedFloor]) {
				const rooms = roomOptions[selectedBuilding][selectedFloor];
				rooms.forEach(room => {
					const option = document.createElement('option');
					option.value = room;
					option.textContent = `Room ${room}`;
					roomFilter.appendChild(option);
				});
			}
		});
    </script>
</body>
</html>